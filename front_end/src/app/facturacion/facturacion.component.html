<mat-card>
    <mat-card-content>
      <div>
        <mat-toolbar>
          <h3>Facturaci√≥n</h3>
          <!-- <span class="spacer"></span>
          <a mat-list-item routerLink="/requisicion/agregar" >
            <mat-icon>note_add</mat-icon>
          </a> -->
        </mat-toolbar>
      </div>
      <div class="center-text mat-elevation-z8">
        <table mat-table #table [dataSource]="allData" style="width: 100%;">
         
          <ng-container matColumnDef="proyecto">
            <mat-header-cell *matHeaderCellDef>Proyecto</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{getInfo('p',factura.proyecto_id)}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="folio">
            <mat-header-cell *matHeaderCellDef>Folio</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.folio}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="frecha_factura">
            <mat-header-cell *matHeaderCellDef>Frecha Factura</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.fecha_factura | date: 'short'}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="fecha_ingreso">
            <mat-header-cell *matHeaderCellDef>Fecha Ingreso</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.createdAt | date :'short'}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="subtotal">
            <mat-header-cell *matHeaderCellDef>Subtotal</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.subtotal}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="iva">
            <mat-header-cell *matHeaderCellDef>IVA</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.iva}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="todal">
            <mat-header-cell *matHeaderCellDef>Todal</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.total}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="folio_oc">
            <mat-header-cell *matHeaderCellDef>Folio Oc</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.folio_oc}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="importe_oc">
            <mat-header-cell *matHeaderCellDef>Importe Oc</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.importe_oc}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{estatus[factura.status]}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="fecha_pago">
            <mat-header-cell *matHeaderCellDef>Fecha Pago</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.fecha_pago}} </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="comentarios">
            <mat-header-cell *matHeaderCellDef>Comentarios</mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <div> {{factura.comentarios}} </div>
            </mat-cell>
          </ng-container>

          


          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions </mat-header-cell>
            <mat-cell *matCellDef="let factura">
              <button mat-button color="primary" [routerLink]="['/facturacion', this.factura.id]"><mat-icon>create</mat-icon></button>
            </mat-cell>
          </ng-container>
          <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
          <mat-row *matRowDef="let dataSource; columns: columnsToDisplay;"></mat-row>
  
        </table>
        <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"  showFirstLastButtons></mat-paginator>
      </div> 
  
    </mat-card-content>
  </mat-card>
